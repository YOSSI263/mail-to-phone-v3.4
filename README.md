# mail-to-phone-v3.4

# תכונות מיוחדות:
### שמיעת המיילים שנשלחו אליכם באמצעות הטלפון באופן מיידי.
### הודעות שאינן בעברית עוברות תרגום אוטומטי ומוקראות בעברית מלאה.
### שמיעה האם יש לכם קבצים מצורפים להודעה.
### לא רץ בשבת, כך שאת ההודעות שקיבלתם בשבת תקבלו בריצה הראשונה במוצאי שבת, ופותר בכך את הבעיה ששרתי ימות לא פועלים בשבתות.
### כולל את זמן קבלת ההודעה.
### שליחת צינתוק בעת קבלת מייל חדש.
### שליחת מיילים לנמענים ישירות מהמערכת הטלפונית, בטקסט חופשי וללא תבניות.
### והיתרון הגדול מכולם: כל הקוד וההודעות עצמם מאוחסנים אצלכם בלבד ולא אצל ספק צד ג'. הידד לאבטחת המידע!!


mail to phone v3.4

## הוראות להתקנת הסקריפט אצלכם במייל:

אוקיי, כדי להגדיר את השירות אצלכם במערכת יש לפעול כך:

**שלב ראשון:** אתם צריכים חשבון מייל של גימייל ומערכת ivr2 של חברת ימות המשיח.

**שלב שני:** יש להעתיק אליכם את קובץ השיטס שמשמש כמסד הנתונים. תוכלו לעשות את זה ע"י יצירת עותק של הקובץ שבקישור או ע"י הורדת קובץ תואם מהמאגר
https://docs.google.com/spreadsheets/d/1CuMfGMHbdymIMQCQJwX68jjSWalHs9LwE_VTeyxE56E/edit?usp=sharing

למי שמוריד ידנית מהמאגר, יש לפתוח את הקובץ אחרי העלאתו לגוגל דרייב, וללחוץ על "תוספים" ואז על "אפס סקריפט" ולהדביק שם את הסקריפטים הבאים:

*MailToPhone.gs, send_email.gs*

**שלב שלישי:** הגדירו את המערכת. לדוגמא בשלוחה 1 תגדירו "השמעת קבצים" ושלוחה 2 תגדירו כניהול קבלת צינתוקים.

הקוד לצינתוקים מופיע בקובץ "tzintuk_ext.ini".

בשלוחה 4 תגדירו את המודול של שליחת המיילים באמצעות העלאת הקבצים שנמצאים בתיקייה "send_y"

ובשלוחה 5 תגדירו גם כן רשימת צינטוקים **אחרת** ממה שהגדרתם בשלוחה 2.

**שלב רביעי:** כעת כנסו לקובץ הגוגל שיטס שיצרתם ושנו את הערכים בשדות הצבועים בצהוב לפי ההגדרות שהגדרתם. *שימו לב! אם אתם לא מבינים מה אתם עושים פשוט אל תשחקו בשום דבר אחר!!*

 שלב חמישי:** כעת כנסו לממשק גוגל סקריפט בכתובת** script.google.com ולחצו על האייקון של השעון בצד ימין ותגדירו ריצות (טריגרים) לסקריפט.
 
![image](https://user-images.githubusercontent.com/46202069/177993246-d0548022-5e19-4317-b9e7-d1aa358859d2.png)

יש להגדיר טריגר לפונקציות הללו: "MailToPhoneM", ו- "sendEmail". ההמלצה שלי היא לראשונה להגדיר כל 10 דק', ולשנייה כל 1-2 דק' ולא יותר כדי לא לעבור את המכסה היומית של גוגל סקריפט למניעת שגיאות.
